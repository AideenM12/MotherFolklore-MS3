{% extends 'base.html' %}
{% block content %}
<!------------Edit Article Main Body------------->
<h3 class="center-align">Edit your contribution</h3>
<main>
   <div class="container">
      <div class="row form-row">
        <!------------Form Input Fields------------>
         <form class="col s12 card-panel" method="POST"
            action="{{ url_for('edit_article', article_id=article._id) }}">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
            <div class="row">
              <!-----------Topic Input Field------->
               <div class="input-field col s12">
                  <select id="topic_name" name="topic_name" class="validate" required>
                     <option value="" disabled >What is your story about?</option>
                     {% for topic in topics %}
                     {% if topic.topic_name == article.topic_name %}
                     <option value="{{ topic.topic_name }}" >{{ topic.topic_name }}</option>
                     {% else %}
                     <option value="{{ topic.topic_name }}">{{ topic.topic_name }}</option>
                     {% endif %}
                     {% endfor %}
                  </select>
                  <label for="topic_name">Select Topic</label>
               </div>
            </div>
            <!-----------Location Input Field-------------->
            <div class="row">
               <div class="input-field col s12">
                  <select id="location_name" name="location_name" class="validate" required>
                     <option value="" disabled selected>Where is your story from?</option>
                     {% for location in locations %}
                     {% if location.location_name == article.location_name %}
                     <option value="{{ location.location_name }}" selected>{{ location.location_name }}</option>
                     {% else %}
                     <option value="{{ location.location_name }}">{{ location.location_name }}</option>
                     {% endif %}
                     {% endfor %}
                  </select>
                  <label for="location_name">Select Location</label>
               </div>
            </div>
            <!----------Article Name Field------------->
            <div class="row">
               <div class="input-field col s12">
                  <input id="article_name" name="article_name" type="text" class="validate"
                     value="{{ article.article_name }}" required>
                  <label for="article_name">Article Name</label>
               </div>
            </div>
            <!-----------Image Input Field----------------->
            <div class="row">
               <div class="input-field col s12">
                  <input id="image_url" name="image_url" type="text" class="validate"
                     value="{{ article.image_url }}">
                  <label for="image_url">Image Url</label>
               </div>
            </div>
            <!------------Article Text Field-------------->
            <div class="row">
               <div class="input-field col s12">
                  <textarea id="article_article" name="article_article" class="materialize-textarea" required>       {{ article.article_article}}</textarea>
                  <label for="article_article">Article</label>
               </div>
            </div>
            <!-------------Created by Field-------------->
            <div class="row">
               <div class="input-field col s12">
                  <input id="created_by" name="created_by"   type="text" class="validate" value="{{ article.created_by }}" required>
                  <label for="created_by">Created By</label>
               </div>
            </div>
            <!-------------Date Picker Field--------------->
            <div class="row">
               <div class="input-field col s12">
                  <input id="date_added" name="date_added" type="text" value="{{ article.date_added }}" class="datepicker validate">
                  <label for="date_added">Date Added</label>
               </div>
            </div>
            <!-------------Edit/Cancel Buttons------------->
            <div class="row center-align">
               <button class="btn" type="submit">Edit Article                 
               </button>
               <a href="{{ url_for('articles')}}" class="btn">Cancel</a>            
            </div>
         </form>
      </div>
   </div>
</main>
{% endblock %}